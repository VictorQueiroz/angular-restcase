/**
 * angular-restcase - 
 * @version v0.0.1
 * @link https://github.com/VictorQueiroz/angular-restcase
 * @license MIT
 */
(function () {
function $RestcaseProvider(){function e(e){function r(e){return"{"+e+"}"}function n(e,t){var n=e,i=e.match(url_resolve_regexp).map(function(e){return e.replace(/[\{\}]/g,"")});return _.forEach(t,function(e,t){-1!==i.indexOf(t)&&(n=n.replace(r(t),e))}),_.forEach(i,function(e){var i=t[e];(_.isUndefined(i)||_.isEmpty(i))&&(n=n.replace(r(e),""))}),n=n.replace(/(\/)+$/,"")}var i={},s=Restcase.Model.extend(t).extend({getUrl:function(){return this.url},initialize:function(){var r=this,i=this.attributes,s=this.getUrl();_.forEach(this.methods,function(o,a){var u=_.extend({},t.methodDefaults,o);this[a]=function(){"save"!==a||r.isNew()||(u.method="PATCH"),u.url=n(s,i);var t=e(u).then(function(e){return e.data});return t.then(function(e){return"fetch"===a||"save"===a?(_.isObject(e)&&!_.isUndefined(e[r.idAttribute])&&r.set(e),r):e})}},this)}});return i.Model=s,i}if(angular.isUndefined(Restcase))throw new Error("You must load Restcase before load this module, aborting");this.$get=e,this.defaults={};var t=this.defaults.modelDefaults={idAttribute:"id",methodDefaults:{method:"GET"},methods:{fetch:{method:"GET"},destroy:{method:"DELETE"},save:{method:"POST"}}};e.$inject=["$http"]}var url_resolve_regexp=/(?:\{)(\w)+(?:\})/g;angular.module("victorqueiroz.ngRestcase",[]).provider("$restcase",$RestcaseProvider);
});